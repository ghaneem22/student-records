<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ุณุฌูู ุงูุฏุฑุงุณู</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="referrer" content="no-referrer">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https: 'unsafe-inline' 'unsafe-eval'; img-src 'self' data: https:;">
    <meta name="description" content="ูุธุงู ุฅุฏุงุฑุฉ ุงูุณุฌูุงุช ุงูุฏุฑุงุณูุฉ">
    <script>
        const user = JSON.parse(localStorage.getItem('currentUser'));
        if (user) {
            window.location.href = 'dashboard.html';
        } else {
            window.location.href = 'login.html';
        }
    </script>
</head>
<body>
  <header>
    <h1>ุณุฌูู ุงูุฏุฑุงุณู</h1>
    <div class="controls">
      <button id="toggleTheme">๐</button>
      <button id="exportBtn">ุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ</button>
      <input type="file" id="importFile" accept=".json" style="display:none">
      <button onclick="document.getElementById('importFile').click()">ุงุณุชูุฑุงุฏ ูุณุฎุฉ ุงุญุชูุงุทูุฉ</button>
    </div>
  </header>

  <main>
    <section id="addStudent">
      <h2>ุฅุถุงูุฉ / ุชุนุฏูู ุทุงูุจ</h2>
      <form id="studentForm">
        <input type="hidden" id="studentId">
        <label>
          ุงูุงุณู ุงููุงูู:
          <input type="text" id="name" required>
        </label>
        <label>
          ุงูุตู:
          <input type="text" id="grade" required>
        </label>
        <label>
          ุฏุฑุฌุฉ ุงููุตู ุงูุฃูู:
          <input type="number" id="term1" min="0" max="100" required>
        </label>
        <label>
          ุฏุฑุฌุฉ ุงููุตู ุงูุซุงูู:
          <input type="number" id="term2" min="0" max="100" required>
        </label>
        <label>
          ุงูุฏุฑุฌุฉ ุงูููุงุฆูุฉ:
          <input type="number" id="final" min="0" max="100" required>
        </label>
        <button type="submit">ุญูุธ</button>
        <button type="button" id="cancelEdit" style="display:none">ุฅูุบุงุก</button>
      </form>
    </section>

    <section id="studentsList">
      <h2>ูุงุฆูุฉ ุงูุทูุงุจ (<span id="count">0</span>)</h2>
      <input type="search" id="searchBox" placeholder="ุงุจุญุซ ุจุงุณู ุงูุทุงูุจ ุฃู ุงูุตู...">
      <table id="studentsTable">
        <thead>
          <tr>
            <th>ุงูุงุณู</th>
            <th>ุงูุตู</th>
            <th>ุงููุตู ูก</th>
            <th>ุงููุตู ูข</th>
            <th>ุงูููุงุฆู</th>
            <th>ุงููุนุฏูู</th>
            <th>ุฅุฌุฑุงุกุงุช</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>